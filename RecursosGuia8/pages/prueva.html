<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Usuarios</title>
    <style>
        table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
            padding: 10px;
            text-align: left;
        }
    </style>
</head>
<body>
    <form id="formulario">
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" required><br>

        <label for="apellido">Apellido:</label>
        <input type="text" id="apellido" required><br>

        <label for="fechaNacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fechaNacimiento" required><br>

        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email" required><br>

        <label for="username">Nombre de Usuario:</label>
        <input type="text" id="username" required><br>

        <label for="password">Contraseña:</label>
        <input type="password" id="password" required><br>

        <button type="button" onclick="registrarPersona()">Registrar Persona</button>
        <button type="button" onclick="mostrarInformacion()">Mostrar Información</button>
    </form>

    <div id="resultado"></div>

    <script>
        var personas = [];

        function generarId(apellido, añoRegistro) {
            var randomNum = Math.floor(Math.random() * 9000) + 1000;
            var id = (apellido.substring(0, 2) + añoRegistro + randomNum).toUpperCase();
            return id;
        }

        function registrarPersona() {
            var nombre = document.getElementById("nombre").value;
            var apellido = document.getElementById("apellido").value;
            var fechaNacimiento = document.getElementById("fechaNacimiento").value;
            var email = document.getElementById("email").value;
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;

            var añoRegistro = new Date().getFullYear();
            var id = generarId(apellido, añoRegistro);

            var persona = {
                id: id,
                nombre: nombre,
                apellido: apellido,
                fechaNacimiento: fechaNacimiento,
                email: email,
                username: username,
                password: password
            };

            personas.push(persona);
            alert("Persona registrada con ID: " + id);
        }

        function mostrarInformacion() {
            var resultadoDiv = document.getElementById("resultado");
            resultadoDiv.innerHTML = "<h2>Información de Personas Registradas</h2>";
            resultadoDiv.innerHTML += "<table><tr><th>ID</th><th>Nombre</th><th>Apellido</th><th>Fecha de Nacimiento</th><th>Email</th><th>Username</th><th>Password</th></tr>";

            for (var i = 0; i < personas.length; i++) {
                resultadoDiv.innerHTML += "<tr><td>" + personas[i].id + "</td><td>" + personas[i].nombre + "</td><td>" + personas[i].apellido + "</td><td>" + personas[i].fechaNacimiento + "</td><td>" + personas[i].email + "</td><td>" + personas[i].username + "</td><td>" + personas[i].password + "</td></tr>";
            }

            resultadoDiv.innerHTML += "</table>";
        }
    </script>
</body>
</html>
